 /*
 * # Semantic UI - 1.8.1
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,n,i){e.site=e.fn.site=function(o){var a,s,r=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),f=m.namespace,p=m.error,g="module-"+f,v=e(n),h=v,b=this,y=h.data(g);return a={initialize:function(){a.instantiate()},instantiate:function(){a.verbose("Storing instance of site",a),y=a,h.data(g,a)},normalize:function(){a.fix.console(),a.fix.requestAnimationFrame()},fix:{console:function(){a.debug("Normalizing window.console"),(console===i||console.log===i)&&(a.verbose("Console not available, normalizing events"),a.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(a.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(a.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){a.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){a.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===i&&(a.debug("RequestAnimationFrame not available, normailizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||m.modules,e.each(t,function(e,t){a.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||m.modules,e.each(t,function(e,t){a.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,o,s){o="string"==typeof o?"all"===o?m.modules:[o]:o||m.modules,s=s!==i?s:!0,e.each(o,function(i,o){var r,c=a.moduleExists(o)?e.fn[o].settings.namespace||!1:!0;a.moduleExists(o)&&(a.verbose("Changing default setting",t,n,o),e.fn[o].settings[t]=n,s&&c&&(r=e(":data(module-"+c+")"),r.length>0&&(a.verbose("Modifying existing settings",r),r[o]("setting",t,n))))})},settings:function(t,n,o){n="string"==typeof n?[n]:n||m.modules,o=o!==i?o:!0,e.each(n,function(n,i){var s;a.moduleExists(i)&&(a.verbose("Changing default setting",t,i),e.extend(!0,e.fn[i].settings,t),o&&f&&(s=e(":data(module-"+f+")"),s.length>0&&(a.verbose("Modifying existing settings",s),s[i]("setting",t))))})}},enable:{console:function(){a.console(!0)},debug:function(e,t){e=e||m.modules,a.debug("Enabling debug for modules",e),a.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||m.modules,a.debug("Enabling verbose debug for modules",e),a.change.setting("verbose",!0,e,t)}},disable:{console:function(){a.console(!1)},debug:function(e,t){e=e||m.modules,a.debug("Disabling debug for modules",e),a.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||m.modules,a.debug("Disabling verbose debug for modules",e),a.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(y.cache.console===i)return void a.error(p.console);a.debug("Restoring console function"),t.console=y.cache.console}else a.debug("Disabling console function"),y.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){a.verbose("Destroying previous site for",h),h.removeData(g)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){m.debug&&(m.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,m.name+":"),a.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,m.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,c.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,100)},display:function(){var t=m.name+":",n=0;r=!1,clearTimeout(a.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,c,l,u=y;return n=n||d,o=b||o,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var s=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[s])&&n!=r)u=u[s];else{if(u[s]!==i)return c=u[s],!1;if(!e.isPlainObject(u[o])||n==r)return u[o]!==i?(c=u[o],!1):(a.error(p.method,t),!1);u=u[o]}})),e.isFunction(c)?l=c.apply(o,n):c!==i&&(l=c),e.isArray(s)?s.push(l):s!==i?s=[s,l]:l!==i&&(s=l),c}},u?(y===i&&a.initialize(),a.invoke(l)):(y!==i&&a.destroy(),a.initialize()),s!==i?s:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!0,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","video","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.dropdown=function(o){var a,s=e(this),r=e(n),c=s.selector||"",l="ontouchstart"in n.documentElement,u=(new Date).getTime(),d=[],m=arguments[0],f="string"==typeof m,p=[].slice.call(arguments,1);return s.each(function(){var g,v,h,b,y=e.isPlainObject(o)?e.extend(!0,{},e.fn.dropdown.settings,o):e.extend({},e.fn.dropdown.settings),x=y.className,w=y.metadata,T=y.namespace,C=y.selector,P=y.error,S="."+T,k="module-"+T,A=e(this),E=A.find(C.text),R=A.find(C.search),F=A.find(C.input),V=A.prev().find(C.text).length>0?A.prev().find(C.text):A.prev(),D=A.children(C.menu),O=D.find(C.item),z=!1,q=!1,I=this,j=A.data(k);b={initialize:function(){b.debug("Initializing dropdown",y),b.is.alreadySetup()?b.error(P.alreadySetup):b.setup.layout(),b.save.defaults(),b.set.selected(),b.create.id(),l&&b.bind.touchEvents(),b.bind.mouseEvents(),b.bind.keyboardEvents(),b.observeChanges(),b.instantiate()},instantiate:function(){b.verbose("Storing instance of dropdown",b),j=b,A.data(k,b)},destroy:function(){b.verbose("Destroying previous dropdown for",A),b.remove.tabbable(),A.off(S).removeData(k),D.off(S),r.off(g)},observeChanges:function(){"MutationObserver"in t&&(h=new MutationObserver(function(e){b.is.selectMutation(e)?(b.debug("<select> modified, recreating menu"),b.setup.select()):(b.debug("DOM tree modified, updating selector cache"),b.refresh())}),h.observe(I,{childList:!0,subtree:!0}),b.debug("Setting up mutation observer",h))},create:{id:function(){b.verbose("Creating unique id for element"),v=b.get.uniqueID(),g="."+v}},search:function(){var e;e=R.val(),b.verbose("Searching for query",e),b.filter(e),b.is.searchSelection()&&b.can.show()&&b.show()},setup:{layout:function(){A.is("select")&&b.setup.select(),b.is.search()&&!b.is.searchable()&&(R=e("<input />").addClass(x.search).insertBefore(E)),y.allowTab&&b.set.tabbable()},select:function(){var t=b.get.selectValues();b.debug("Dropdown initialized on a select",t),A.is("select")&&(F=A),F.parent(C.dropdown).length>0?(b.debug("UI dropdown already exists. Creating dropdown menu only"),A=F.closest(C.dropdown),D=A.children(C.menu),0===D.length&&(D=e("<div />").addClass(x.menu).appendTo(A)),D.html(y.templates.menu(t))):(b.debug("Creating entire dropdown from select"),A=e("<div />").attr("class",F.attr("class")).addClass(x.selection).addClass(x.dropdown).html(y.templates.dropdown(t)).insertBefore(F),F.removeAttr("class").prependTo(A)),b.refresh()}},refresh:function(){b.verbose("Refreshing selector cache"),E=A.find(C.text),R=A.find(C.search),F=A.find(C.input),V=A.prev().find(C.text).length>0?A.prev().find(C.text):A.prev(),D=A.children(C.menu),O=D.find(C.item)},toggle:function(){b.verbose("Toggling menu visibility"),b.is.active()?b.hide():b.show()},show:function(t){t=e.isFunction(t)?t:function(){},b.is.searchSelection()&&b.is.allFiltered()||b.can.show()&&!b.is.active()&&(b.debug("Showing dropdown"),b.animate.show(function(){b.can.click()&&b.bind.intent(),b.set.visible(),t.call(I)}),y.onShow.call(I))},hide:function(t){t=e.isFunction(t)?t:function(){},b.is.active()&&(b.debug("Hiding dropdown"),b.animate.hide(function(){b.remove.visible(),t.call(I)}),y.onHide.call(I))},hideOthers:function(){b.verbose("Finding other dropdowns to hide"),s.not(A).has(C.menu+":visible:not(."+x.animating+")").dropdown("hide")},hideSubMenus:function(){var e=D.find(C.menu);e.transition("hide")},bind:{keyboardEvents:function(){b.debug("Binding keyboard events"),A.on("keydown"+S,b.event.keydown),b.is.searchable()&&A.on(b.get.inputEvent(),C.search,b.event.input)},touchEvents:function(){b.debug("Touch device detected binding additional touch events"),b.is.searchSelection()||A.on("touchstart"+S,b.event.test.toggle),D.on("touchstart"+S,C.item,b.event.item.mouseenter)},mouseEvents:function(){b.verbose("Mouse detected binding mouse events"),b.is.searchSelection()?A.on("mousedown"+S,C.menu,b.event.menu.activate).on("mouseup"+S,C.menu,b.event.menu.deactivate).on("click"+S,C.search,b.show).on("focus"+S,C.search,b.event.searchFocus).on("blur"+S,C.search,b.event.searchBlur).on("click"+S,C.text,b.event.searchTextFocus):("click"==y.on?A.on("click"+S,b.event.test.toggle):"hover"==y.on?A.on("mouseenter"+S,b.delay.show).on("mouseleave"+S,b.delay.hide):A.on(y.on+S,b.toggle),A.on("mousedown"+S,b.event.mousedown).on("mouseup"+S,b.event.mouseup).on("focus"+S,b.event.focus).on("blur"+S,b.event.blur)),D.on("mouseenter"+S,C.item,b.event.item.mouseenter).on("mouseleave"+S,C.item,b.event.item.mouseleave).on("click"+S,C.item,b.event.item.click)},intent:function(){b.verbose("Binding hide intent event to document"),l&&r.on("touchstart"+g,b.event.test.touch).on("touchmove"+g,b.event.test.touch),r.on("click"+g,b.event.test.hide)}},unbind:{intent:function(){b.verbose("Removing hide intent event from document"),l&&r.off("touchstart"+g).off("touchmove"+g),r.off("click"+g)}},filter:function(t){var n=e(),i=b.escape.regExp(t),o=new RegExp("^"+i,"igm"),a=new RegExp(i,"ig");b.verbose("Searching for matching values"),O.each(function(){var t=e(this),i=String(b.get.choiceText(t,!1)),s=String(b.get.choiceValue(t,i));i.match(o)||s.match(o)?n=n.add(t):y.fullTextSearch&&(i.match(a)||s.match(a))&&(n=n.add(t))}),b.debug("Setting filter",t),b.remove.filteredItem(),O.not(n).addClass(x.filtered),b.verbose("Selecting first non-filtered element"),b.remove.selectedItem(),O.not("."+x.filtered).eq(0).addClass(x.selected),b.is.allFiltered()&&(b.debug("All items filtered, hiding dropdown",t),b.is.searchSelection()&&b.hide(),y.onNoResults.call(I,t))},focusSearch:function(){b.is.search()&&R.focus()},event:{mousedown:function(){z=!0},mouseup:function(){z=!1},focus:function(){!z&&b.is.hidden()&&b.show()},blur:function(){var e=n.activeElement===this;z||e||b.hide()},searchFocus:function(){z=!0,b.show()},searchBlur:function(){var e=n.activeElement===this;q||e||b.hide()},searchTextFocus:function(){z=!0,R.focus()},input:function(){b.is.searchSelection()&&b.set.filtered(),clearTimeout(b.timer),b.timer=setTimeout(b.search,y.delay.search)},keydown:function(e){{var t,n=O.not(x.filtered).filter("."+x.selected).eq(0),i=D.children("."+x.active).eq(0),o=n.length>0?n:i,a=o.length>0?o.siblings(":not(."+x.filtered+")").andSelf():D.children(":not(."+x.filtered+")"),s=o.children(C.menu),r=o.closest(C.menu),c=r[0]!==D[0],l=r.is(":visible"),u=e.which,d={enter:13,escape:27,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},m=s.length>0,f=o.length>0;a.size()-1}if(b.is.visible()){if(u==d.enter&&f&&(m&&!y.allowCategorySelection?(b.verbose("Pressed enter on unselectable category, opening sub menu"),u=d.rightArrow):(b.verbose("Enter key pressed, choosing selected item"),b.event.item.click.call(o,e))),u==d.leftArrow&&(c&&(b.verbose("Left key pressed, closing sub-menu"),b.animate.hide(!1,r),o.removeClass(x.selected),r.closest(C.item).addClass(x.selected)),e.preventDefault()),u==d.rightArrow&&(m&&(b.verbose("Right key pressed, opening sub-menu"),b.animate.show(!1,s),o.removeClass(x.selected),s.find(C.item).eq(0).addClass(x.selected)),e.preventDefault()),u==d.upArrow){if(t=f&&l?o.prevAll(C.item+":not(."+x.filtered+")").eq(0):O.eq(0),a.index(t)<0)return void b.verbose("Up key pressed but reached top of current menu");b.verbose("Up key pressed, changing active item"),o.removeClass(x.selected),t.addClass(x.selected),b.set.scrollPosition(t),e.preventDefault()}if(u==d.downArrow){if(t=f&&l?t=o.nextAll(C.item+":not(."+x.filtered+")").eq(0):O.eq(0),0===t.length)return void b.verbose("Down key pressed but reached bottom of current menu");b.verbose("Down key pressed, changing active item"),O.removeClass(x.selected),t.addClass(x.selected),b.set.scrollPosition(t),e.preventDefault()}}else u==d.enter&&(b.verbose("Enter key pressed, showing dropdown"),b.show()),u==d.escape&&(b.verbose("Escape key pressed, closing dropdown"),b.hide()),u==d.downArrow&&(b.verbose("Down key pressed, showing dropdown"),b.show())},test:{toggle:function(e){b.determine.eventInMenu(e,b.toggle)&&e.preventDefault()},touch:function(e){b.determine.eventInMenu(e,function(){"touchstart"==e.type?b.timer=setTimeout(b.hide,y.delay.touch):"touchmove"==e.type&&clearTimeout(b.timer)}),e.stopPropagation()},hide:function(e){b.determine.eventInModule(e,b.hide)}},menu:{activate:function(){q=!0},deactivate:function(){q=!1}},item:{mouseenter:function(t){var n=e(this).children(C.menu),i=e(this).siblings(C.item).children(C.menu);n.length>0&&(clearTimeout(b.itemTimer),b.itemTimer=setTimeout(function(){b.verbose("Showing sub-menu",n),e.each(i,function(){b.animate.hide(!1,e(this))}),b.animate.show(!1,n)},y.delay.show),t.preventDefault())},mouseleave:function(){var t=e(this).children(C.menu);t.length>0&&(clearTimeout(b.itemTimer),b.itemTimer=setTimeout(function(){b.verbose("Hiding sub-menu",t),b.animate.hide(!1,t)},y.delay.hide))},click:function(t){var n=e(this),i=e(t.target),o=n.find(C.menu),a=b.get.choiceText(n),s=b.get.choiceValue(n,a),r=function(){b.remove.searchTerm(),b.determine.selectAction(a,s)},c=o.length>0,l=o.find(i).length>0;l||c&&!y.allowCategorySelection||r()}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,n){b.verbose("Determining action",y.action),e.isFunction(b.action[y.action])?(b.verbose("Triggering preset action",y.action,t,n),b.action[y.action](t,n)):e.isFunction(y.action)?(b.verbose("Triggering user action",y.action,t,n),y.action(t,n)):b.error(P.action,y.action)},eventInModule:function(t,n){return n=e.isFunction(n)?n:function(){},0===e(t.target).closest(A).length?(b.verbose("Triggering event",n),n(),!0):(b.verbose("Event occurred in dropdown, canceling callback"),!1)},eventInMenu:function(t,n){return n=e.isFunction(n)?n:function(){},0===e(t.target).closest(D).length?(b.verbose("Triggering event",n),n(),!0):(b.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(e,t){t=t!==i?t:e,b.set.selected(t),b.hide(function(){b.remove.filteredItem()})},select:function(e,t){t=t!==i?t:e,b.set.selected(t),b.hide(function(){b.remove.filteredItem()})},combo:function(e,t){t=t!==i?t:e,b.set.selected(t),b.hide(function(){b.remove.filteredItem()})},hide:function(){b.hide(function(){b.remove.filteredItem()})}},get:{text:function(){return E.text()},value:function(){return F.length>0?F.val():A.data(w.value)},choiceText:function(e,t){return t=t!==i?t:y.preserveHTML,e!==i?(e.find(C.menu).length>0&&(b.verbose("Retreiving text of element with sub-menu"),e=e.clone(),e.find(C.menu).remove(),e.find(C.menuIcon).remove()),e.data(w.text)!==i?e.data(w.text):t?e.html().trim():e.text().trim()):void 0},choiceValue:function(e,t){return t=t||b.get.choiceText(e),e.data(w.value)!==i?e.data(w.value):"string"==typeof t?t.toLowerCase().trim():t.trim()},inputEvent:function(){var e=R[0];return e?e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup":!1},selectValues:function(){var t={};return t.values=y.sortSelect?{}:[],A.find("option").each(function(){var n=e(this).html(),o=e(this).attr("value")!==i?e(this).attr("value"):n;""===o?t.placeholder=n:y.sortSelect?t.values[o]={name:n,value:o}:t.values.push({name:n,value:o})}),y.sortSelect?b.debug("Retrieved and sorted values from select",t):b.debug("Retreived values from select",t),t},activeItem:function(){return O.filter("."+x.active)},item:function(t,n){var o=!1;return t=t!==i?t:b.get.value()!==i?b.get.value():b.get.text(),n=""===t||0===t?!0:n||!1,t!==i?O.each(function(){var i=e(this),a=b.get.choiceText(i),s=b.get.choiceValue(i,a);n?(b.verbose("Ambiguous dropdown value using strict type check",i,t),s===t?o=e(this):o||a!==t||(o=e(this))):s==t?(b.verbose("Found select item by value",s,t),o=e(this)):o||a!=t||(b.verbose("Found select item by text",a,t),o=e(this))}):t=b.get.text(),o||!1},uniqueID:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},restore:{defaults:function(){b.restore.defaultText(),b.restore.defaultValue()},defaultText:function(){var e=A.data(w.defaultText);b.debug("Restoring default text",e),b.set.text(e),E.addClass(x.placeholder)},defaultValue:function(){var e=A.data(w.defaultValue);e!==i&&(b.debug("Restoring default value",e),e.length?b.set.selected(e):(b.remove.activeItem(),b.remove.selectedItem()))}},save:{defaults:function(){b.save.defaultText(),b.save.placeholderText(),b.save.defaultValue()},defaultValue:function(){A.data(w.defaultValue,b.get.value())},defaultText:function(){A.data(w.defaultText,E.text())},placeholderText:function(){E.hasClass(x.placeholder)&&A.data(w.placeholderText,E.text())}},clear:function(){var e=A.data(w.placeholderText);b.set.text(e),b.set.value(""),b.remove.activeItem(),b.remove.selectedItem(),E.addClass(x.placeholder)},set:{filtered:function(){var e=R.val(),t="string"==typeof e&&e.length>0;t?E.addClass(x.filtered):E.removeClass(x.filtered)},tabbable:function(){b.is.searchable()?(b.debug("Searchable dropdown initialized"),R.val("").attr("tabindex",0),D.attr("tabindex","-1")):(b.debug("Simple selection dropdown initialized"),A.attr("tabindex")||(A.attr("tabindex",0),D.attr("tabindex","-1")))},scrollPosition:function(e,t){var n,o,a,s,r,c,l,u,d,m=5;e=e||b.get.activeItem(),n=e&&e.length>0,t=t!==i?t:!1,e&&n&&(D.hasClass(x.visible)||D.addClass(x.loading),l=D.height(),a=e.height(),c=D.scrollTop(),r=D.offset().top,s=e.offset().top,o=c-r+s,d=o+m>c+l,u=c>o-m,b.debug("Scrolling to active item",o),(u||d||t)&&D.scrollTop(o).removeClass(x.loading))},text:function(e){"combo"==y.action?(b.debug("Changing combo button text",e,V),y.preserveHTML?V.html(e):V.text(e)):"select"!==y.action&&(b.debug("Changing text",e,E),E.removeClass(x.filtered).removeClass(x.placeholder),y.preserveHTML?E.html(e):E.text(e))},value:function(e){b.debug("Adding selected value to hidden input",e,F),F.length>0?F.val(e).trigger("change"):A.data(w.value,e)},active:function(){A.addClass(x.active)},visible:function(){A.addClass(x.visible)},selected:function(e){var t,n,i=b.get.item(e);i&&(b.debug("Setting selected menu item to",i),b.remove.activeItem(),b.remove.selectedItem(),i.addClass(x.active).addClass(x.selected),t=b.get.choiceText(i),n=b.get.choiceValue(i,t),b.set.text(t),b.set.value(n),y.onChange.call(I,e,t,i))}},remove:{active:function(){A.removeClass(x.active)},visible:function(){A.removeClass(x.visible)},activeItem:function(){O.removeClass(x.active)},filteredItem:function(){O.removeClass(x.filtered)},searchTerm:function(){R.val("")},selectedItem:function(){O.removeClass(x.selected)},tabbable:function(){b.is.searchable()?(b.debug("Searchable dropdown initialized"),R.attr("tabindex","-1"),D.attr("tabindex","-1")):(b.debug("Simple selection dropdown initialized"),A.attr("tabindex","-1"),D.attr("tabindex","-1"))}},is:{active:function(){return A.hasClass(x.active)},alreadySetup:function(){return A.is("select")&&A.parent(C.dropdown).length>0},animating:function(e){return e?e.is(":animated")||e.transition&&e.transition("is animating"):D.is(":animated")||D.transition&&D.transition("is animating")},allFiltered:function(){return O.filter("."+x.filtered).length===O.length},hidden:function(e){return e?e.is(":hidden"):D.is(":hidden")},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){return i.target&&e(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return A.hasClass(x.search)},searchable:function(){return R.length>0},searchSelection:function(){return b.is.searchable()&&R.parent().is(A)},selection:function(){return A.hasClass(x.selection)},upward:function(){return A.hasClass(x.upward)},visible:function(e){return e?e.is(":visible"):D.is(":visible")}},can:{click:function(){return l||"click"==y.on},show:function(){return!A.hasClass(x.disabled)}},animate:{show:function(t,n){var o=n||D,a=n?function(){}:function(){b.hideSubMenus(),b.hideOthers(),b.set.active()};t=e.isFunction(t)?t:function(){},b.set.scrollPosition(b.get.activeItem(),!0),b.verbose("Doing menu show animation",o),(b.is.hidden(o)||b.is.animating(o))&&("auto"==y.transition&&(y.transition=b.is.upward()?"slide up":"slide down",b.verbose("Automatically determining animation based on animation direction",y.transition)),"none"==y.transition?t.call(I):e.fn.transition!==i&&A.transition("is supported")?o.transition({animation:y.transition+" in",debug:y.debug,verbose:y.verbose,duration:y.duration,queue:!0,onStart:a,onComplete:function(){t.call(I)}}):"slide down"==y.transition?(a(),o.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},y.duration,"easeOutQuad",b.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){b.event.resetStyle.call(this),t.call(I)})):"fade"==y.transition?(a(),o.hide().clearQueue().fadeIn(y.duration,function(){b.event.resetStyle.call(this),t.call(I)})):b.error(P.transition,y.transition))},hide:function(t,n){var o=n||D,a=(n?.9*y.duration:y.duration,n?function(){}:function(){b.can.click()&&b.unbind.intent(),b.focusSearch(),b.remove.active()});t=e.isFunction(t)?t:function(){},(b.is.visible(o)||b.is.animating(o))&&(b.verbose("Doing menu hide animation",o),"auto"==y.transition&&(y.transition=b.is.upward()?"slide up":"slide down"),"none"==y.transition?t.call(I):e.fn.transition!==i&&A.transition("is supported")?o.transition({animation:y.transition+" out",duration:y.duration,debug:y.debug,verbose:y.verbose,queue:!0,onStart:a,onComplete:function(){t.call(I)}}):"slide down"==y.transition?(a(),o.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",b.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){b.event.resetStyle.call(this),t.call(I)})):"fade"==y.transition?(a(),o.show().clearQueue().fadeOut(150,function(){b.event.resetStyle.call(this),t.call(I)})):b.error(P.transition))}},delay:{show:function(){b.verbose("Delaying show event to ensure user intent"),clearTimeout(b.timer),b.timer=setTimeout(b.show,y.delay.show)},hide:function(){b.verbose("Delaying hide event to ensure user intent"),clearTimeout(b.timer),b.timer=setTimeout(b.hide,y.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},setting:function(t,n){if(b.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},debug:function(){y.debug&&(y.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,y.name+":"),b.debug.apply(console,arguments)))},verbose:function(){y.verbose&&y.debug&&(y.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,y.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;y.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,100)},display:function(){var t=y.name+":",n=0;u=!1,clearTimeout(b.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",c&&(t+=" '"+c+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,o){var s,r,c,l=j;return n=n||p,o=I||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var a=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=s)l=l[a];else{if(l[a]!==i)return r=l[a],!1;if(!e.isPlainObject(l[o])||n==s)return l[o]!==i?(r=l[o],!1):(b.error(P.method,t),!1);l=l[o]}})),e.isFunction(r)?c=r.apply(o,n):r!==i&&(c=r),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),r}},f?(j===i&&b.initialize(),b.invoke(m)):(j!==i&&b.destroy(),b.initialize())}),a!==i?a:this},e.fn.dropdown.settings={debug:!1,verbose:!0,performance:!0,on:"click",action:"activate",allowTab:!0,fullTextSearch:!1,preserveHTML:!0,sortSelect:!1,allowCategorySelection:!1,delay:{hide:300,show:200,search:50,touch:50},transition:"auto",duration:250,onNoResults:function(){},onChange:function(){},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholderText",text:"text",value:"value"},selector:{dropdown:".ui.dropdown",input:'> input[type="hidden"], > select',item:".item",menu:".menu",menuIcon:".dropdown.icon",search:"> input.search, .menu > .search > input, .menu > input.search",text:"> .text:not(.icon)"},className:{active:"active",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",loading:"loading",menu:"menu",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={menu:function(t){var n=(t.placeholder||!1,t.values||{},"");return e.each(t.values,function(e,t){n+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),n},dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},"");return i+='<i class="dropdown icon"></i>',i+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.popup=function(o){var a,s=e(this),r=e(n),c=s.selector||"",l=("ontouchstart"in n.documentElement,(new Date).getTime()),u=[],d=arguments[0],m="string"==typeof d,f=[].slice.call(arguments,1);return s.each(function(){var n,s,p,g=e.isPlainObject(o)?e.extend(!0,{},e.fn.popup.settings,o):e.extend({},e.fn.popup.settings),v=g.selector,h=g.className,b=g.error,y=g.metadata,x=g.namespace,w="."+g.namespace,T="module-"+x,C=e(this),P=e(g.context),S=g.target?e(g.target):C,k=e(t),A=e("body"),E=0,R=!1,F=this,V=C.data(T);p={initialize:function(){p.debug("Initializing module",C),"click"==g.on?C.on("click"+w,p.toggle):p.get.startEvent()&&C.on(p.get.startEvent()+w,p.event.start).on(p.get.endEvent()+w,p.event.end),g.target&&p.debug("Target set to element",S),k.on("resize"+w,p.event.resize),!p.exists()&&g.preserve&&p.create(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),V=p,C.data(T,V)},refresh:function(){g.popup?n=e(g.popup).eq(0):g.inline&&(n=S.next(v.popup).eq(0)),g.popup?(n.addClass(h.loading),s=p.get.offsetParent(),n.removeClass(h.loading),g.movePopup&&p.has.popup()&&p.get.offsetParent(n)[0]!==s[0]&&(p.debug("Moving popup to the same offset parent as activating element"),n.detach().appendTo(s))):s=g.inline?p.get.offsetParent(S):p.has.popup()?p.get.offsetParent(n):A,s.is("html")&&(p.debug("Setting page as offset parent"),s=A)},reposition:function(){p.refresh(),p.set.position()},destroy:function(){p.debug("Destroying previous module"),n&&!g.preserve&&p.removePopup(),clearTimeout(p.hideTimer),clearTimeout(p.showTimer),C.off(w).removeData(T)},event:{start:function(){var t=e.isPlainObject(g.delay)?g.delay.show:g.delay;clearTimeout(p.hideTimer),p.showTimer=setTimeout(function(){!p.is.hidden()||p.is.active()&&p.is.dropdown()||p.show()},t)},end:function(){var t=e.isPlainObject(g.delay)?g.delay.hide:g.delay;clearTimeout(p.showTimer),p.hideTimer=setTimeout(function(){p.is.visible()&&p.hide()},t)},resize:function(){p.is.visible()&&p.set.position()}},create:function(){var t=C.data(y.html)||g.html,i=C.data(y.variation)||g.variation,o=C.data(y.title)||g.title,a=C.data(y.content)||C.attr("title")||g.content;t||a||o?(p.debug("Creating pop-up html"),t||(t=g.templates.popup({title:o,content:a})),n=e("<div/>").addClass(h.popup).addClass(i).html(t),i&&n.addClass(i),g.inline?(p.verbose("Inserting popup element inline",n),n.insertAfter(C)):(p.verbose("Appending popup element to body",n),n.appendTo(P)),p.refresh(),g.hoverable&&p.bind.popup(),g.onCreate.call(n,F)):0!==S.next(v.popup).length?(p.verbose("Pre-existing popup found"),g.inline=!0,g.popup=S.next(v.popup),p.refresh(),g.hoverable&&p.bind.popup()):g.popup?(p.verbose("Used popup specified in settings"),p.refresh(),g.hoverable&&p.bind.popup()):p.debug("No content specified skipping display",F)},toggle:function(){p.debug("Toggling pop-up"),p.is.hidden()?(p.debug("Popup is hidden, showing pop-up"),p.unbind.close(),p.hideAll(),p.show()):(p.debug("Popup is visible, hiding pop-up"),p.hide())},show:function(t){t=e.isFunction(t)?t:function(){},p.debug("Showing pop-up",g.transition),p.exists()?g.preserve||g.popup||p.refresh():p.create(),n&&p.set.position()&&(p.save.conditions(),p.animate.show(t))},hide:function(t){t=e.isFunction(t)?t:function(){},p.remove.visible(),p.unbind.close(),p.is.visible()&&(p.restore.conditions(),p.animate.hide(t))},hideAll:function(){e(v.popup).filter(":visible").transition(g.transition)},hideGracefully:function(t){t&&0===e(t.target).closest(v.popup).length?(p.debug("Click occurred outside popup hiding popup"),p.hide()):p.debug("Click was inside popup, keeping popup open")},exists:function(){return n?g.inline||g.popup?p.has.popup():n.closest(P).length>=1?!0:!1:!1},removePopup:function(){p.debug("Removing popup",n),p.has.popup()&&!g.popup&&(n.remove(),n=i),g.onRemove.call(n,F)},save:{conditions:function(){p.cache={title:C.attr("title")},p.cache.title&&C.removeAttr("title"),p.verbose("Saving original attributes",p.cache.title)}},restore:{conditions:function(){return p.cache&&p.cache.title&&(C.attr("title",p.cache.title),p.verbose("Restoring original attributes",p.cache.title)),!0
}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},g.transition&&e.fn.transition!==i&&C.transition("is supported")?(p.set.visible(),n.transition({animation:g.transition+" in",queue:!1,debug:g.debug,verbose:g.verbose,duration:g.duration,onComplete:function(){p.bind.close(),t.call(n,F),g.onVisible.call(n,F)}})):(p.set.visible(),n.stop().fadeIn(g.duration,g.easing,function(){p.bind.close(),t.call(n,F),g.onVisible.call(n,F)})),g.onShow.call(n,F)},hide:function(t){t=e.isFunction(t)?t:function(){},p.debug("Hiding pop-up"),g.transition&&e.fn.transition!==i&&C.transition("is supported")?n.transition({animation:g.transition+" out",queue:!1,duration:g.duration,debug:g.debug,verbose:g.verbose,onComplete:function(){p.reset(),t.call(n,F),g.onHidden.call(n,F)}}):n.stop().fadeOut(g.duration,g.easing,function(){p.reset(),t.call(n,F),g.onHidden.call(n,F)}),g.onHide.call(n,F)}},get:{startEvent:function(){return"hover"==g.on?"mouseenter":"focus"==g.on?"focus":!1},endEvent:function(){return"hover"==g.on?"mouseleave":"focus"==g.on?"blur":!1},offsetParent:function(t){var n=t!==i?t[0]:C[0],o=n.parentNode,a=e(o);if(o)for(var s="none"===a.css("transform"),r="static"===a.css("position"),c=a.is("html");o&&!c&&r&&s;)o=o.parentNode,a=e(o),s="none"===a.css("transform"),r="static"===a.css("position"),c=a.is("html");return a&&a.length>0?a:e()},offstagePosition:function(i){var o={top:e(t).scrollTop(),bottom:e(t).scrollTop()+e(t).height(),left:0,right:e(t).width()},a={width:n.width(),height:n.height(),offset:n.offset()},s={},r=[];return i=i||!1,a.offset&&i&&(p.verbose("Checking if outside viewable area",a.offset),s={top:a.offset.top<o.top,bottom:a.offset.top+a.height>o.bottom,right:a.offset.left+a.width>o.right,left:a.offset.left<o.left}),e.each(s,function(e,t){t&&r.push(e)}),r.length>0?r.join(" "):!1},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],o={top:"bottom",bottom:"top",left:"right",right:"left"},a={left:"center",center:"right",right:"left"},s={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},r="top"==n||"bottom"==n,c=!1,l=!1,u=!1;return R||(p.verbose("All available positions available"),R=p.get.positions()),p.debug("Recording last position tried",e),R[e]=!0,"opposite"===g.prefer&&(u=[o[n],i],u=u.join(" "),c=R[u]===!0,p.debug("Trying opposite strategy",u)),"adjacent"===g.prefer&&r&&(u=[n,a[i]],u=u.join(" "),l=R[u]===!0,p.debug("Trying adjacent strategy",u)),(l||c)&&(p.debug("Using backup position",u),u=s[e]),u}},set:{position:function(o,a){var r,c,l,u=(e(t).width(),e(t).height(),S.outerWidth()),d=S.outerHeight(),m=n.outerWidth(),f=n.outerHeight(),v=s.outerWidth(),x=s.outerHeight(),w=g.distanceAway,T=S[0],P=g.inline?parseInt(t.getComputedStyle(T).getPropertyValue("margin-top"),10):0,k=g.inline?parseInt(t.getComputedStyle(T).getPropertyValue(p.is.rtl()?"margin-right":"margin-left"),10):0,A=g.inline||g.popup?S.position():S.offset();switch(o=o||C.data(y.position)||g.position,a=a||C.data(y.offset)||g.offset,E==g.maxSearchDepth&&g.lastResort&&(p.debug("Using last resort position to display",g.lastResort),o=g.lastResort),g.inline&&(p.debug("Adding targets margin to calculation"),"left center"==o||"right center"==o?(a+=P,w+=-k):"top left"==o||"top center"==o||"top right"==o?(a+=k,w-=P):(a+=k,w+=P)),p.debug("Calculating popup positioning",o),r=o,p.is.rtl()&&(r=r.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),p.debug("RTL: Popup positioning updated",r)),r){case"top left":c={top:"auto",bottom:x-A.top+w,left:A.left+a,right:"auto"};break;case"top center":c={bottom:x-A.top+w,left:A.left+u/2-m/2+a,top:"auto",right:"auto"};break;case"top right":c={bottom:x-A.top+w,right:v-A.left-u-a,top:"auto",left:"auto"};break;case"left center":c={top:A.top+d/2-f/2+a,right:v-A.left+w,left:"auto",bottom:"auto"};break;case"right center":c={top:A.top+d/2-f/2+a,left:A.left+u+w,bottom:"auto",right:"auto"};break;case"bottom left":c={top:A.top+d+w,left:A.left+a,bottom:"auto",right:"auto"};break;case"bottom center":c={top:A.top+d+w,left:A.left+u/2-m/2+a,bottom:"auto",right:"auto"};break;case"bottom right":c={top:A.top+d+w,right:v-A.left-u-a,left:"auto",bottom:"auto"}}if(c===i&&p.error(b.invalidPosition,o),p.debug("Calculated popup positioning values",c),n.css(c).removeClass(h.position).addClass(o).addClass(h.loading),l=p.get.offstagePosition(o)){if(p.debug("Popup cant fit into viewport",l),E<g.maxSearchDepth)return E++,o=p.get.nextPosition(o),p.debug("Trying new position",o),n?p.set.position(o):!1;if(!g.lastResort)return p.debug("Popup could not find a position in view",n),p.error(b.cannotPlace),p.remove.attempts(),p.remove.loading(),p.reset(),!1}return p.debug("Position is on stage",o),p.remove.attempts(),p.set.fluidWidth(),p.remove.loading(),!0},fluidWidth:function(){g.setFluidWidth&&n.hasClass(h.fluid)&&n.css("width",s.width())},visible:function(){C.addClass(h.visible)}},remove:{loading:function(){n.removeClass(h.loading)},visible:function(){C.removeClass(h.visible)},attempts:function(){p.verbose("Resetting all searched positions"),E=0,R=!1}},bind:{popup:function(){p.verbose("Allowing hover events on popup to prevent closing"),n&&p.has.popup()&&n.on("mouseenter"+w,p.event.start).on("mouseleave"+w,p.event.end)},close:function(){(g.hideOnScroll===!0||"auto"==g.hideOnScroll&&"click"!=g.on)&&(r.one("touchmove"+w,p.hideGracefully).one("scroll"+w,p.hideGracefully),P.one("touchmove"+w,p.hideGracefully).one("scroll"+w,p.hideGracefully)),"click"==g.on&&g.closable&&(p.verbose("Binding popup close event to document"),r.on("click"+w,function(e){p.verbose("Pop-up clickaway intent detected"),p.hideGracefully.call(F,e)}))}},unbind:{close:function(){(g.hideOnScroll===!0||"auto"==g.hideOnScroll&&"click"!=g.on)&&(r.off("scroll"+w,p.hide),P.off("scroll"+w,p.hide)),"click"==g.on&&g.closable&&(p.verbose("Removing close event from document"),r.off("click"+w))}},has:{popup:function(){return n&&n.length>0}},is:{active:function(){return C.hasClass(h.active)},animating:function(){return n&&n.is(":animated")||n.hasClass(h.animating)},visible:function(){return n&&n.is(":visible")},dropdown:function(){return C.hasClass(h.dropdown)},hidden:function(){return!p.is.visible()},rtl:function(){return"rtl"==C.css("direction")}},reset:function(){p.remove.visible(),g.preserve?e.fn.transition!==i&&n.transition("remove transition"):p.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){g.debug&&(g.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,g.name+":"),p.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,g.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:F,"Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var t=g.name+":",n=0;l=!1,clearTimeout(p.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",c&&(t+=" '"+c+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,r,c,l=V;return n=n||f,o=F||o,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var a=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=s)l=l[a];else{if(l[a]!==i)return r=l[a],!1;if(!e.isPlainObject(l[o])||n==s)return l[o]!==i?(r=l[o],!1):!1;l=l[o]}})),e.isFunction(r)?c=r.apply(o,n):r!==i&&(c=r),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),r}},m?(V===i&&p.initialize(),p.invoke(d)):(V!==i&&p.destroy(),p.initialize())}),a!==i?a:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",closable:!0,hideOnScroll:"auto",context:"body",position:"top left",prefer:"opposite",lastResort:!1,delay:{show:30,hide:0},setFluidWidth:!0,movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,duration:200,easing:"easeOutQuint",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:20,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"No visible position could be found for the popup",method:"The method you called is not defined."},metadata:{content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},popup:function(t){var n="",o=e.fn.popup.settings.templates.escape;return typeof t!==i&&(typeof t.title!==i&&t.title&&(t.title=o(t.title),n+='<div class="header">'+t.title+"</div>"),typeof t.content!==i&&t.content&&(t.content=o(t.content),n+='<div class="content">'+t.content+"</div>")),n}}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.transition=function(){{var o,a=e(this),s=a.selector||"",r=(new Date).getTime(),c=[],l=arguments,u=l[0],d=[].slice.call(arguments,1),m="string"==typeof u;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)}}return a.each(function(){var t,f,p,g,v,h,b,y,x,w,T,C,P=e(this),S=this;C={initialize:function(){w="module-"+x,t=C.get.settings.apply(S,l),g=t.className,v=t.metadata,h=C.get.animationStartEvent(),b=C.get.animationEndEvent(),y=C.get.animationName(),p=t.error,x=t.namespace,T="."+t.namespace,f=P.data(w)||C,m&&(m=C.invoke(u)),m===!1&&(C.verbose("Converted arguments into settings object",t),C.animate(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of module",C),P.data(w,f)},destroy:function(){C.verbose("Destroying previous module for",S),P.removeData(w)},refresh:function(){C.verbose("Refreshing display type on next animation"),delete C.displayType},forceRepaint:function(){C.verbose("Forcing element repaint");var e=P.parent(),t=P.next();0===t.length?P.detach().appendTo(e):P.detach().insertBefore(t)},repaint:function(){C.verbose("Repainting element");S.offsetWidth},animate:function(e){if(t=e||t,!C.is.supported())return C.error(p.support),!1;if(C.debug("Preparing animation",t.animation),C.is.animating()){if(t.queue)return!t.allowRepeats&&C.has.direction()&&C.is.occurring()&&C.queuing!==!0?C.debug("Animation is currently occurring, preventing queueing same animation",t.animation):C.queue(t.animation),!1;if(!t.allowRepeats&&C.is.occurring())return C.debug("Animation is already occurring, will not execute repeated animation",t.animation),!1}C.can.animate()?C.set.animating(t.animation):C.error(p.noAnimation,t.animation,S)},reset:function(){C.debug("Resetting animation to beginning conditions"),C.remove.animationEndCallback(),C.restore.conditions(),C.remove.animating()},queue:function(e){C.debug("Queueing animation of",e),C.queuing=!0,P.one(b+T,function(){C.queuing=!1,C.repaint(),C.animate.apply(this,t)})},complete:function(){C.verbose("CSS animation complete",t.animation),C.remove.animationEndCallback(),C.remove.failSafe(),C.is.looping()||(C.is.outward()?(C.verbose("Animation is outward, hiding element"),C.restore.conditions(),C.hide(),t.onHide.call(this)):C.is.inward()?(C.verbose("Animation is outward, showing element"),C.restore.conditions(),C.show(),C.set.display(),t.onShow.call(this)):C.restore.conditions(),C.remove.animation(),C.remove.animating()),t.onComplete.call(this)},has:{direction:function(n){var i=!1;return n=n||t.animation,"string"==typeof n&&(n=n.split(" "),e.each(n,function(e,t){(t===g.inward||t===g.outward)&&(i=!0)})),i},inlineDisplay:function(){var t=P.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){e=e||t.animation,C.is.animating()||C.save.conditions(),C.remove.direction(),C.remove.animationEndCallback(),C.can.transition()&&!C.has.direction()&&C.set.direction(),C.remove.hidden(),C.set.display(),P.addClass(g.animating+" "+g.transition+" "+e).addClass(e).one(b+".complete"+T,C.complete),t.useFailSafe&&C.add.failSafe(),C.set.duration(t.duration),t.onStart.call(this),C.debug("Starting tween",e,P.attr("class"))},duration:function(e,n){n=n||t.duration,n="number"==typeof n?n+"ms":n,C.verbose("Setting animation duration",n),(n||0===n)&&P.css({"-webkit-animation-duration":n,"-moz-animation-duration":n,"-ms-animation-duration":n,"-o-animation-duration":n,"animation-duration":n})},display:function(){var e=C.get.style(),t=C.get.displayType(),n=e+"display: "+t+" !important;";P.css("display",""),C.refresh(),P.css("display")!==t&&(C.verbose("Setting inline visibility to",t),P.attr("style",n))},direction:function(){P.is(":visible")&&!C.is.hidden()?(C.debug("Automatically determining the direction of animation","Outward"),P.removeClass(g.inward).addClass(g.outward)):(C.debug("Automatically determining the direction of animation","Inward"),P.removeClass(g.outward).addClass(g.inward))},looping:function(){C.debug("Transition set to loop"),P.addClass(g.looping)},hidden:function(){C.is.hidden()||(P.addClass(g.transition).addClass(g.hidden),"none"!==P.css("display")&&(C.verbose("Overriding default display to hide element"),P.css("display","none")))},visible:function(){P.addClass(g.transition).addClass(g.visible)}},save:{displayType:function(e){P.data(v.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,C.verbose("Saving existence of transition",t,n)},conditions:function(){P.attr("class")||!1,P.attr("style")||"";P.removeClass(t.animation),C.remove.direction(),C.cache={className:P.attr("class"),style:C.get.style()},C.verbose("Saving original attributes",C.cache)}},restore:{conditions:function(){return C.cache===i?!1:(C.cache.className?P.attr("class",C.cache.className):P.removeAttr("class"),C.cache.style&&(C.verbose("Restoring original style attribute",C.cache.style),P.attr("style",C.cache.style)),C.is.looping()&&C.remove.looping(),void C.verbose("Restoring original attributes",C.cache))}},add:{failSafe:function(){var e=C.get.duration();C.timer=setTimeout(C.complete,e+100),C.verbose("Adding fail safe timer",C.timer)}},remove:{animating:function(){P.removeClass(g.animating)},animation:function(){P.css({"-webkit-animation":"","-moz-animation":"","-ms-animation":"","-o-animation":"",animation:""})},animationEndCallback:function(){P.off(".complete")},display:function(){P.css("display","")},direction:function(){P.removeClass(g.inward).removeClass(g.outward)},failSafe:function(){C.verbose("Removing fail safe timer",C.timer),C.timer&&clearTimeout(C.timer)},hidden:function(){P.removeClass(g.hidden)},visible:function(){P.removeClass(g.visible)},looping:function(){C.debug("Transitions are no longer looping"),P.removeClass(g.looping),C.forceRepaint()},transition:function(){P.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},duration:function(e){return e=e||t.duration,e===!1&&(e=P.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return t.displayType?t.displayType:(P.data(v.displayType)===i&&C.can.transition(!0),P.data(v.displayType))},style:function(){var e=P.attr("style")||"";return e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationName:function(){var e,t=n.createElement("div"),o={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(e in o)if(t.style[e]!==i)return o[e];return!1},animationStartEvent:function(){var e,t=n.createElement("div"),o={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in o)if(t.style[e]!==i)return o[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in o)if(t.style[e]!==i)return o[e];return!1}},can:{transition:function(n){var o,a,s,r,c,l=P.attr("class"),u=P.prop("tagName"),d=t.animation,m=C.get.transitionExists(d);if(m===i||n){if(C.verbose("Determining whether animation exists"),o=e("<"+u+" />").addClass(l).insertAfter(P),a=o.addClass(d).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css(y),s=o.addClass(g.inward).css(y),c=o.attr("class",l).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),C.verbose("Determining final display state",c),o.remove(),a!=s)C.debug("Direction exists for animation",d),r=!0;else{if("none"==a||!a)return void C.debug("No animation defined in css",d);C.debug("Static animation found",d,c),r=!1}C.save.displayType(c),C.save.transitionExists(d,r)}return m!==i?m:r},animate:function(){return C.can.transition()!==i}},is:{animating:function(){return P.hasClass(g.animating)},inward:function(){return P.hasClass(g.inward)},outward:function(){return P.hasClass(g.outward)},looping:function(){return P.hasClass(g.looping)},occurring:function(e){return e=e||t.animation,e="."+e.replace(" ","."),P.filter(e).length>0},visible:function(){return P.is(":visible")},hidden:function(){return"hidden"===P.css("visibility")},supported:function(){return y!==!1&&b!==!1}},hide:function(){C.verbose("Hiding element"),C.is.animating()&&C.reset(),C.remove.display(),C.remove.visible(),C.set.hidden(),C.repaint()},show:function(e){C.verbose("Showing element",e),C.remove.hidden(),C.set.visible(),C.repaint()},start:function(){C.verbose("Starting animation"),P.removeClass(g.disabled)},stop:function(){C.debug("Stopping animation"),P.addClass(g.disabled)},toggle:function(){C.debug("Toggling play status"),P.toggleClass(g.disabled)},setting:function(n,o){if(C.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,t,n);else{if(o===i)return t[n];t[n]=o}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){t.debug&&(t.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,t.name+":"),C.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,t.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var n,i,o;t.performance&&(n=(new Date).getTime(),o=r||n,i=n-o,r=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":i})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,600)},display:function(){var n=t.name+":",o=0;r=!1,clearTimeout(C.performance.timer),e.each(c,function(e,t){o+=t["Execution Time"]}),n+=" "+o+"ms",s&&(n+=" '"+s+"'"),a.length>1&&(n+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var s,r,c,l=f;return n=n||d,a=S||a,"string"==typeof t&&l!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var a=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=s)l=l[a];else{if(l[a]!==i)return r=l[a],!1;if(!e.isPlainObject(l[o])||n==s)return l[o]!==i?(r=l[o],!1):!1;l=l[o]}})),e.isFunction(r)?c=r.apply(a,n):r!==i&&(c=r),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),r!==i?r:!1}},C.initialize()}),o!==i?o:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){e.fn.state=function(t){var o,a=e(this),s=a.selector||"",r=("ontouchstart"in n.documentElement,(new Date).getTime()),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var n,m=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),f=m.error,p=m.metadata,g=m.className,v=m.namespace,h=m.states,b=m.text,y="."+v,x=v+"-module",w=e(this),T=this,C=w.data(x);n={initialize:function(){n.verbose("Initializing module"),m.automatic&&n.add.defaults(),m.context&&""!==s?e(m.context).on(s,"mouseenter"+y,n.change.text).on(s,"mouseleave"+y,n.reset.text).on(s,"click"+y,n.toggle.state):w.on("mouseenter"+y,n.change.text).on("mouseleave"+y,n.reset.text).on("click"+y,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),C=n,w.data(x,n)},destroy:function(){n.verbose("Destroying previous module",C),w.off(y).removeData(x)},refresh:function(){n.verbose("Refreshing selector cache"),w=e(T)},add:{defaults:function(){var o=t&&e.isPlainObject(t.states)?t.states:{};e.each(m.defaults,function(t,a){n.is[t]!==i&&n.is[t]()&&(n.verbose("Adding default states",t,T),e.extend(m.states,a,o))})}},is:{active:function(){return w.hasClass(g.active)},loading:function(){return w.hasClass(g.loading)},inactive:function(){return!w.hasClass(g.active)},state:function(e){return g[e]===i?!1:w.hasClass(g[e])},enabled:function(){return!w.is(m.filter.active)},disabled:function(){return w.is(m.filter.active)},textEnabled:function(){return!w.is(m.filter.text)},button:function(){return w.is(".button:not(a, .submit)")},input:function(){return w.is("input")},progress:function(){return w.is(".ui.progress")}},allow:function(e){n.debug("Now allowing state",e),h[e]=!0},disallow:function(e){n.debug("No longer allowing",e),h[e]=!1},allows:function(e){return h[e]||!1},enable:function(){w.removeClass(g.disabled)},disable:function(){w.addClass(g.disabled)},setState:function(e){n.allows(e)&&w.addClass(g[e])},removeState:function(e){n.allows(e)&&w.removeClass(g[e])},toggle:{state:function(){var t;if(n.allows("active")&&n.is.enabled()){if(n.refresh(),e.fn.api!==i&&(t=w.api("get request")))return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug("API request detected, waiting for state signal",t),t?(b.loading&&n.update.text(b.loading),e.when(t).then(function(){"resolved"==t.state()?(n.debug("API request succeeded"),m.activateTest=function(){return!0},m.deactivateTest=function(){return!0}):(n.debug("API request failed"),m.activateTest=function(){return!1},m.deactivateTest=function(){return!1}),n.change.state()})):(m.activateTest=function(){return!1},m.deactivateTest=function(){return!1})},change:{state:function(){n.debug("Determining state change direction"),n.is.inactive()?n.activate():n.deactivate(),m.sync&&n.sync(),m.onChange.call(T)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose("Changing text to disabled text",b.hover),n.update.text(b.disabled)):n.is.active()?b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.deactivate&&(n.verbose("Changing text to deactivating text",b.deactivate),n.update.text(b.deactivate)):b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.activate&&(n.verbose("Changing text to activating text",b.activate),n.update.text(b.activate)))}},activate:function(){m.activateTest.call(T)&&(n.debug("Setting state to active"),w.addClass(g.active),n.update.text(b.active),m.onActivate.call(T))},deactivate:function(){m.deactivateTest.call(T)&&(n.debug("Setting state to inactive"),w.removeClass(g.active),n.update.text(b.inactive),m.onDeactivate.call(T))},sync:function(){n.verbose("Syncing other buttons to current state"),a.not(w).state(n.is.active()?"activate":"deactivate")},get:{text:function(){return m.selector.text?w.find(m.selector.text).text():w.html()},textFor:function(e){return b[e]||!1}},flash:{text:function(e,t,i){var o=n.get.text();n.debug("Flashing text message",e,t),e=e||m.text.flash,t=t||m.flashDuration,i=i||function(){},n.update.text(e),setTimeout(function(){n.update.text(o),i.call(T)},t)}},reset:{text:function(){var e=b.active||w.data(p.storedText),t=b.inactive||w.data(p.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose("Resetting active text",e),n.update.text(e)):t&&(n.verbose("Resetting inactive text",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug("Updating text",e),m.selector.text?w.data(p.storedText,e).find(m.selector.text).text(e):w.data(p.storedText,e).html(e)):n.debug("Text is already sane, ignoring update",e)}},setting:function(t,o){if(n.debug("Changing setting",t,o),e.isPlainObject(t))e.extend(!0,m,t);else{if(o===i)return m[t];m[t]=o}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){m.debug&&(m.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,m.name+":"),n.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,m.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;m.performance&&(t=(new Date).getTime(),o=r||t,i=t-o,r=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=m.name+":",o=0;r=!1,clearTimeout(n.performance.timer),e.each(c,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,a,s){var r,c,l,u=C;return a=a||d,s=T||s,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(o,a){var s=o!=r?a+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(u[s])&&o!=r)u=u[s];else{if(u[s]!==i)return c=u[s],!1;if(!e.isPlainObject(u[a])||o==r)return u[a]!==i?(c=u[a],!1):(n.error(f.method,t),!1);u=u[a]}})),e.isFunction(c)?l=c.apply(s,a):c!==i&&(l=c),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),c}},u?(C===i&&n.initialize(),n.invoke(l)):(C!==i&&n.destroy(),n.initialize())}),o!==i?o:this},e.fn.state.settings={name:"State",debug:!1,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,i){e.fn.visibility=function(o){var a,s=e(this),r=s.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,m=[].slice.call(arguments,1);return s.each(function(){var s,f=e.extend(!0,{},e.fn.visibility.settings,o),p=f.className,g=f.namespace,v=f.error,h="."+g,b="module-"+g,y=e(t),x=e(this),w=e(f.context),T=(x.offsetParent(),x.selector||"",x.data(b)),C=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},P=this;s={initialize:function(){s.verbose("Initializing visibility",f),s.setup.cache(),s.save.position(),s.should.trackChanges()&&(s.bindEvents(),"image"==f.type&&s.setup.image(),"fixed"==f.type&&s.setup.fixed()),s.checkVisibility(),s.instantiate()},instantiate:function(){s.verbose("Storing instance of module",s),T=s,x.data(b,s)},destroy:function(){s.verbose("Destroying previous module"),x.off(h).removeData(b)},bindEvents:function(){s.verbose("Binding visibility events to scroll and resize"),y.on("resize"+h,s.event.refresh),w.on("scroll"+h,s.event.scroll)},event:{refresh:function(){C(s.refresh)},scroll:function(){s.verbose("Scroll position changed"),f.throttle?(clearTimeout(s.timer),s.timer=setTimeout(s.checkVisibility,f.throttle)):C(s.checkVisibility)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var o=t.length,a=0,s=[],r=n.createElement("img"),c=function(){a++,a>=t.length&&e.isFunction(i)&&i()};o--;)r=n.createElement("img"),r.onload=c,r.onerror=c,r.src=t[o],s.push(r)},should:{trackChanges:function(){return d&&m.length>0?(s.debug("One time query, no need to bind events"),!1):(s.debug("Query is attaching callbacks, watching for changes with scroll"),!0)}},setup:{cache:function(){s.cache={occurred:{},screen:{},element:{}}},image:function(){var e=x.data("src");e&&(s.verbose("Lazy loading image",e),s.topVisible(function(){s.precache(e,function(){s.set.image(e),f.onTopVisible=!1})}))},fixed:function(){s.verbose("Setting up fixed on element pass"),x.visibility({once:!1,continuous:!1,onTopPassed:function(){x.addClass(p.fixed).css({position:"fixed",top:f.offset+"px"}),f.animation&&e.fn.transition!==i&&x.transition(f.transition,f.duration)},onTopPassedReverse:function(){x.removeClass(p.fixed).css({position:"",top:""})}})}},set:{image:function(t){var n=s.cache.screen.bottom<s.cache.element.top;x.attr("src",t),n?(s.verbose("Image outside browser, no show animation"),x.show()):f.transition&&e.fn.transition!==i?x.transition(f.transition,f.duration):x.fadeIn(f.duration)
}},refresh:function(){s.debug("Refreshing constants (element width/height)"),s.reset(),s.save.position(),s.checkVisibility(),f.onRefresh.call(P)},reset:function(){s.verbose("Reseting all cached values"),e.isPlainObject(s.cache)&&(s.cache.screen={},s.cache.element={})},checkVisibility:function(){s.verbose("Checking visibility of element",s.cache.element),s.save.calculations(),s.passed(),s.passingReverse(),s.topVisibleReverse(),s.bottomVisibleReverse(),s.topPassedReverse(),s.bottomPassedReverse(),s.passing(),s.topVisible(),s.bottomVisible(),s.topPassed(),s.bottomPassed()},passed:function(t,n){var o=s.get.elementCalculations();if(t!==i&&n!==i)f.onPassed[t]=n;else{if(t!==i)return s.get.pixelsPassed(t)>o.pixelsPassed;o.passing&&e.each(f.onPassed,function(e,t){o.bottomVisible||o.pixelsPassed>s.get.pixelsPassed(e)?s.execute(t,e):f.once||s.remove.occurred(t)})}},passing:function(e){var t=s.get.elementCalculations(),n=e||f.onPassing,o="passing";return e&&(s.debug("Adding callback for passing",e),f.onPassing=e),t.passing?s.execute(n,o):f.once||s.remove.occurred(o),e!==i?t.passing:void 0},topVisible:function(e){var t=s.get.elementCalculations(),n=e||f.onTopVisible,o="topVisible";return e&&(s.debug("Adding callback for top visible",e),f.onTopVisible=e),t.topVisible?s.execute(n,o):f.once||s.remove.occurred(o),e===i?t.topVisible:void 0},bottomVisible:function(e){var t=s.get.elementCalculations(),n=e||f.onBottomVisible,o="bottomVisible";return e&&(s.debug("Adding callback for bottom visible",e),f.onBottomVisible=e),t.bottomVisible?s.execute(n,o):f.once||s.remove.occurred(o),e===i?t.bottomVisible:void 0},topPassed:function(e){var t=s.get.elementCalculations(),n=e||f.onTopPassed,o="topPassed";return e&&(s.debug("Adding callback for top passed",e),f.onTopPassed=e),t.topPassed?s.execute(n,o):f.once||s.remove.occurred(o),e===i?t.topPassed:void 0},bottomPassed:function(e){var t=s.get.elementCalculations(),n=e||f.onBottomPassed,o="bottomPassed";return e&&(s.debug("Adding callback for bottom passed",e),f.onBottomPassed=e),t.bottomPassed?s.execute(n,o):f.once||s.remove.occurred(o),e===i?t.bottomPassed:void 0},passingReverse:function(e){var t=s.get.elementCalculations(),n=e||f.onPassingReverse,o="passingReverse";return e&&(s.debug("Adding callback for passing reverse",e),f.onPassingReverse=e),t.passing?f.once||s.remove.occurred(o):s.get.occurred("passing")&&s.execute(n,o),e!==i?!t.passing:void 0},topVisibleReverse:function(e){var t=s.get.elementCalculations(),n=e||f.onTopVisibleReverse,o="topVisibleReverse";return e&&(s.debug("Adding callback for top visible reverse",e),f.onTopVisibleReverse=e),t.topVisible?f.once||s.remove.occurred(o):s.get.occurred("topVisible")&&s.execute(n,o),e===i?!t.topVisible:void 0},bottomVisibleReverse:function(e){var t=s.get.elementCalculations(),n=e||f.onBottomVisibleReverse,o="bottomVisibleReverse";return e&&(s.debug("Adding callback for bottom visible reverse",e),f.onBottomVisibleReverse=e),t.bottomVisible?f.once||s.remove.occurred(o):s.get.occurred("bottomVisible")&&s.execute(n,o),e===i?!t.bottomVisible:void 0},topPassedReverse:function(e){var t=s.get.elementCalculations(),n=e||f.onTopPassedReverse,o="topPassedReverse";return e&&(s.debug("Adding callback for top passed reverse",e),f.onTopPassedReverse=e),t.topPassed?f.once||s.remove.occurred(o):s.get.occurred("topPassed")&&s.execute(n,o),e===i?!t.onTopPassed:void 0},bottomPassedReverse:function(e){var t=s.get.elementCalculations(),n=e||f.onBottomPassedReverse,o="bottomPassedReverse";return e&&(s.debug("Adding callback for bottom passed reverse",e),f.onBottomPassedReverse=e),t.bottomPassed?f.once||s.remove.occurred(o):s.get.occurred("bottomPassed")&&s.execute(n,o),e===i?!t.bottomPassed:void 0},execute:function(e,t){var n=s.get.elementCalculations(),i=s.get.screenCalculations();e=e||!1,e&&(f.continuous?(s.debug("Callback being called continuously",t,n),e.call(P,n,i)):s.get.occurred(t)||(s.debug("Conditions met",t,n),e.call(P,n,i))),s.save.occurred(t)},remove:{occurred:function(e){e?s.cache.occurred[e]!==i&&s.cache.occurred[e]===!0&&(s.debug("Callback can now be called again",e),s.cache.occurred[e]=!1):s.cache.occurred={}}},save:{calculations:function(){s.verbose("Saving all calculations necessary to determine positioning"),s.save.scroll(),s.save.direction(),s.save.screenCalculations(),s.save.elementCalculations()},occurred:function(e){e&&(s.cache.occurred[e]===i||s.cache.occurred[e]!==!0)&&(s.verbose("Saving callback occurred",e),s.cache.occurred[e]=!0)},scroll:function(){s.cache.scroll=w.scrollTop()+f.offset},direction:function(){var e,t=s.get.scroll(),n=s.get.lastScroll();return e=t>n&&n?"down":n>t&&n?"up":"static",s.cache.direction=e,s.cache.direction},elementPosition:function(){var t=s.get.screenSize();return s.verbose("Saving element position"),e.extend(s.cache.element,{margin:{top:parseInt(x.css("margin-top"),10),bottom:parseInt(x.css("margin-bottom"),10)},fits:P.height<t.height,offset:x.offset(),width:x.outerWidth(),height:x.outerHeight()}),s.cache.element},elementCalculations:function(){var t=s.get.screenCalculations(),n=s.get.elementPosition();f.includeMargin?e.extend(s.cache.element,{top:n.offset.top-n.margin.top,bottom:n.offset.top+n.height+n.margin.bottom}):e.extend(s.cache.element,{top:n.offset.top,bottom:n.offset.top+n.height}),e.extend(s.cache.element,{topVisible:t.bottom>=n.top,topPassed:t.top>=n.top,bottomVisible:t.bottom>=n.bottom,bottomPassed:t.top>=n.bottom,pixelsPassed:0,percentagePassed:0}),e.extend(s.cache.element,{visible:s.cache.element.topVisible||s.cache.element.bottomVisible,passing:s.cache.element.topPassed&&!s.cache.element.bottomPassed,hidden:!s.cache.element.topVisible&&!s.cache.element.bottomVisible}),s.cache.element.passing&&(s.cache.element.pixelsPassed=t.top-n.top,s.cache.element.percentagePassed=(t.top-n.top)/n.height),s.verbose("Updated element calculations",s.cache.element)},screenCalculations:function(){var t=w.scrollTop()+f.offset;return s.cache.scroll===i&&(s.cache.scroll=w.scrollTop()+f.offset),s.save.direction(),e.extend(s.cache.screen,{top:t,bottom:t+s.cache.screen.height}),s.cache.screen},screenSize:function(){s.verbose("Saving window position"),s.cache.screen={height:w.height()}},position:function(){s.save.screenSize(),s.save.elementPosition()}},get:{pixelsPassed:function(e){var t=s.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return s.cache.occurred!==i?s.cache.occurred[e]||!1:!1},direction:function(){return s.cache.direction===i&&s.save.direction(),s.cache.direction},elementPosition:function(){return s.cache.element===i&&s.save.elementPosition(),s.cache.element},elementCalculations:function(){return s.cache.element===i&&s.save.elementCalculations(),s.cache.element},screenCalculations:function(){return s.cache.screen===i&&s.save.screenCalculations(),s.cache.screen},screenSize:function(){return s.cache.screen===i&&s.save.screenSize(),s.cache.screen},scroll:function(){return s.cache.scroll===i&&s.save.scroll(),s.cache.scroll},lastScroll:function(){return s.cache.screen===i?(s.debug("First scroll event, no last scroll could be found"),!1):s.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,s,t);else{if(n===i)return s[t];s[t]=n}},debug:function(){f.debug&&(f.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,f.name+":"),s.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,f.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:P,"Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,100)},display:function(){var t=f.name+":",n=0;c=!1,clearTimeout(s.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,c,l,u=T;return n=n||m,o=P||o,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[a])&&n!=r)u=u[a];else{if(u[a]!==i)return c=u[a],!1;if(!e.isPlainObject(u[o])||n==r)return u[o]!==i?(c=u[o],!1):(s.error(v.method,t),!1);u=u[o]}})),e.isFunction(c)?l=c.apply(o,n):c!==i&&(l=c),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),c}},d?(T===i&&s.initialize(),s.invoke(u)):(T!==i&&s.destroy(),s.initialize())}),a!==i?a:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",className:{fixed:"fixed"},debug:!1,verbose:!1,performance:!0,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,transition:!1,duration:500,onPassed:{},onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,once:!0,continuous:!1,onRefresh:function(){},onScroll:function(){},error:{method:"The method you called is not defined."}}}(jQuery,window,document);